{% extends "base.html" %}

{% block content %}
    <div class="container px-4 my-5">
        <h1 class="mt-4 mb-5 text-center">Your validations</h1>
        {% for validation in validations %}
            {% if error %}
            <div class="alert alert-primary" role="alert">
                {{ error }}
            </div>
            {% endif %}
            <div class="row my-2 gy-2">
                <div class="col-sm-8 col-md-6 card text-center">
                    <div class="card-body">
                        <div class="flex-d flex-col">
                            <div>
                                <h5 class="card-title">{{ validation.title }}</h5>
                            </div>
                            <div class="d-flex flex-row justify-content-end">
                                <a href="#" class="btn btn-primary me-2 mt-2" data-bs-toggle="tooltip" data-bs-html="true" data-bs-title="Num. of total messages: <br><b>{{ total_messages }}</b><br>Num. of messages <b>YOU</b> validated: <br><b>{{ messages_user_validated }}</b>">Stats</a>
                                <a href="{% url 'validation' validation.id %}" class="btn btn-success mt-2">Resume</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
        const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
    });
</script>

{% endblock content %}